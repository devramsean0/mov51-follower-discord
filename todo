TODO use the stream.online & stream.offline eventsocket requests to start and stop the flow.
TODO finish implementing sceduling